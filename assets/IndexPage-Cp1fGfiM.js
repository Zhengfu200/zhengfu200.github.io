import{p as ie,h as f,q as pt,s as we,t as bt,a as L,c as h,w as O,v as Fe,x as Lt,y as Ut,z as he,A as Me,T as yt,B as Mt,C as _t,D as wt,E as tt,F as Ct,G as at,H as Ot,I as kt,J as Nt,K as Xe,L as ee,M as St,N as Rt,O as Le,P as Ke,R as Oe,S as At,U as _e,V as Pt,W as jt,X as Be,Y as He,Z as it,$ as qe,a0 as Ge,a1 as Qe,a2 as Ht,a3 as Je,a4 as Qt,a5 as ot,a6 as Se,a7 as xt,a8 as rt,a9 as Wt,aa as $t,ab as Ze,ac as Ue,ad as Yt,ae as Xt,af as Kt,ag as Gt,ah as st,ai as Jt,aj as Zt,ak as ea,al as ta,am as aa,b as B,an as na,_ as la,ao as ia,ap as oa,i as M,j as ne,k as C,aq as ra,m as c,ar as sa,as as P,at as oe,au as ge,av as ve,aw as X,ax as ce,ay as Z,az as pe,aA as be,aB as Ee,aC as ut,aD as ke,aE as ua,aF as dt,aG as da,aH as le,aI as ca,aJ as fa}from"./index-Lxh_DqOF.js";const ha=ie({name:"QSpace",setup(){const e=f("div",{class:"q-space"});return()=>e}}),ma=ie({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:o}){const{proxy:{$q:u}}=he(),a=pt(bt,we);if(a===we)return console.error("QHeader needs to be child of QLayout"),we;const n=L(parseInt(e.heightHint,10)),l=L(!0),v=h(()=>e.reveal===!0||a.view.value.indexOf("H")!==-1||u.platform.is.ios&&a.isContainer.value===!0),k=h(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return l.value===!0?n.value:0;const r=n.value-a.scroll.value.position;return r>0?r:0}),_=h(()=>e.modelValue!==!0||v.value===!0&&l.value!==!0),s=h(()=>e.modelValue===!0&&_.value===!0&&e.reveal===!0),S=h(()=>"q-header q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(_.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),w=h(()=>{const r=a.rows.value.top,z={};return r[0]==="l"&&a.left.space===!0&&(z[u.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),r[2]==="r"&&a.right.space===!0&&(z[u.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),z});function g(r,z){a.update("header",r,z)}function i(r,z){r.value!==z&&(r.value=z)}function m({height:r}){i(n,r),g("size",r)}function q(r){s.value===!0&&i(l,!0),o("focusin",r)}O(()=>e.modelValue,r=>{g("space",r),i(l,!0),a.animate()}),O(k,r=>{g("offset",r)}),O(()=>e.reveal,r=>{r===!1&&i(l,e.modelValue)}),O(l,r=>{a.animate(),o("reveal",r)}),O(a.scroll,r=>{e.reveal===!0&&i(l,r.direction==="up"||r.position<=e.revealOffset||r.position-r.inflectionPoint<100)});const b={};return a.instances.header=b,e.modelValue===!0&&g("size",n.value),g("space",e.modelValue),g("offset",k.value),Fe(()=>{a.instances.header===b&&(a.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const r=Lt(t.default,[]);return e.elevated===!0&&r.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(f(Ut,{debounce:0,onResize:m})),f("header",{class:S.value,style:w.value,onFocusin:q},r)}}}),ct=ie({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const o=h(()=>parseInt(e.lines,10)),u=h(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),a=h(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>f("div",{style:a.value,class:u.value},Me(t.default))}}),qt=ie({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:o}){let u=!1,a,n,l=null,v=null,k,_;function s(){a&&a(),a=null,u=!1,l!==null&&(clearTimeout(l),l=null),v!==null&&(clearTimeout(v),v=null),n!==void 0&&n.removeEventListener("transitionend",k),k=null}function S(m,q,b){q!==void 0&&(m.style.height=`${q}px`),m.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,u=!0,a=b}function w(m,q){m.style.overflowY=null,m.style.height=null,m.style.transition=null,s(),q!==_&&o(q)}function g(m,q){let b=0;n=m,u===!0?(s(),b=m.offsetHeight===m.scrollHeight?0:void 0):(_="hide",m.style.overflowY="hidden"),S(m,b,q),l=setTimeout(()=>{l=null,m.style.height=`${m.scrollHeight}px`,k=r=>{v=null,(Object(r)!==r||r.target===m)&&w(m,"show")},m.addEventListener("transitionend",k),v=setTimeout(k,e.duration*1.1)},100)}function i(m,q){let b;n=m,u===!0?s():(_="show",m.style.overflowY="hidden",b=m.scrollHeight),S(m,b,q),l=setTimeout(()=>{l=null,m.style.height=0,k=r=>{v=null,(Object(r)!==r||r.target===m)&&w(m,"hide")},m.addEventListener("transitionend",k),v=setTimeout(k,e.duration*1.1)},100)}return Fe(()=>{u===!0&&s()}),()=>f(yt,{css:!1,appear:e.appear,onEnter:g,onLeave:i},t.default)}}),fe=Mt({}),ga=Object.keys(_t),ft=ie({name:"QExpansionItem",props:{..._t,...wt,...tt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ct,"click","afterShow","afterHide"],setup(e,{slots:t,emit:o}){const{proxy:{$q:u}}=he(),a=at(e,u),n=L(e.modelValue!==null?e.modelValue:e.defaultOpened),l=L(null),v=Ot(),{show:k,hide:_,toggle:s}=kt({showing:n});let S,w;const g=h(()=>`q-expansion-item q-item-type q-expansion-item--${n.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),i=h(()=>e.contentInsetLevel===void 0?null:{["padding"+(u.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),m=h(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),q=h(()=>{const x={};return ga.forEach($=>{x[$]=e[$]}),x}),b=h(()=>m.value===!0||e.expandIconToggle!==!0),r=h(()=>e.expandedIcon!==void 0&&n.value===!0?e.expandedIcon:e.expandIcon||u.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),z=h(()=>e.disable!==!0&&(m.value===!0||e.expandIconToggle===!0)),Y=h(()=>({expanded:n.value===!0,detailsId:v.value,toggle:s,show:k,hide:_})),A=h(()=>{const x=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:u.lang.label[n.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":n.value===!0?"true":"false","aria-controls":v.value,"aria-label":x}});O(()=>e.group,x=>{w!==void 0&&w(),x!==void 0&&R()});function F(x){m.value!==!0&&s(x),o("click",x)}function E(x){x.keyCode===13&&j(x,!0)}function j(x,$){$!==!0&&l.value!==null&&l.value.focus(),s(x),Oe(x)}function T(){o("afterShow")}function V(){o("afterHide")}function R(){S===void 0&&(S=Nt()),n.value===!0&&(fe[e.group]=S);const x=O(n,K=>{K===!0?fe[e.group]=S:fe[e.group]===S&&delete fe[e.group]}),$=O(()=>fe[e.group],(K,me)=>{me===S&&K!==void 0&&K!==S&&_()});w=()=>{x(),$(),fe[e.group]===S&&delete fe[e.group],w=void 0}}function y(){const x={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},$=[f(Ke,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&n.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:r.value})];return z.value===!0&&(Object.assign(x,{tabindex:0,...A.value,onClick:j,onKeyup:E}),$.unshift(f("div",{ref:l,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),f(Le,x,()=>$)}function N(){let x;return t.header!==void 0?x=[].concat(t.header(Y.value)):(x=[f(Le,()=>[f(ct,{lines:e.labelLines},()=>e.label||""),e.caption?f(ct,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&x[e.switchToggleSide===!0?"push":"unshift"](f(Le,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>f(Ke,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&x[e.switchToggleSide===!0?"unshift":"push"](y()),x}function H(){const x={ref:"item",style:e.headerStyle,class:e.headerClass,dark:a.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return b.value===!0&&(x.clickable=!0,x.onClick=F,Object.assign(x,m.value===!0?q.value:A.value)),f(ee,x,N)}function te(){return St(f("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:i.value,id:v.value},Me(t.default)),[[Rt,n.value]])}function Q(){const x=[H(),f(qt,{duration:e.duration,onShow:T,onHide:V},te)];return e.expandSeparator===!0&&x.push(f(Xe,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:a.value}),f(Xe,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:a.value})),x}return e.group!==void 0&&R(),Fe(()=>{w!==void 0&&w()}),()=>f("div",{class:g.value},[f("div",{class:"q-expansion-item__container relative-position"},Q())])}}),nt={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},va=Object.keys(nt);nt.all=!0;function ht(e){const t={};for(const o of va)e[o]===!0&&(t[o]=!0);return Object.keys(t).length===0?nt:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const pa=["INPUT","TEXTAREA"];function mt(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&pa.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function We(e,t,o){const u=Ge(e);let a,n=u.left-t.event.x,l=u.top-t.event.y,v=Math.abs(n),k=Math.abs(l);const _=t.direction;_.horizontal===!0&&_.vertical!==!0?a=n<0?"left":"right":_.horizontal!==!0&&_.vertical===!0?a=l<0?"up":"down":_.up===!0&&l<0?(a="up",v>k&&(_.left===!0&&n<0?a="left":_.right===!0&&n>0&&(a="right"))):_.down===!0&&l>0?(a="down",v>k&&(_.left===!0&&n<0?a="left":_.right===!0&&n>0&&(a="right"))):_.left===!0&&n<0?(a="left",v<k&&(_.up===!0&&l<0?a="up":_.down===!0&&l>0&&(a="down"))):_.right===!0&&n>0&&(a="right",v<k&&(_.up===!0&&l<0?a="up":_.down===!0&&l>0&&(a="down")));let s=!1;if(a===void 0&&o===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};a=t.event.lastDir,s=!0,a==="left"||a==="right"?(u.left-=n,v=0,n=0):(u.top-=l,k=0,l=0)}return{synthetic:s,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:u,direction:a,isFirst:t.event.isFirst,isFinal:o===!0,duration:Date.now()-t.event.time,distance:{x:v,y:k},offset:{x:n,y:l},delta:{x:u.left-t.event.lastX,y:u.top-t.event.lastY}}}}let ba=0;const $e=At({name:"touch-pan",beforeMount(e,{value:t,modifiers:o}){if(o.mouse!==!0&&_e.has.touch!==!0)return;function u(n,l){o.mouse===!0&&l===!0?Oe(n):(o.stop===!0&&qe(n),o.prevent===!0&&it(n))}const a={uid:"qvtp_"+ba++,handler:t,modifiers:o,direction:ht(o),noop:Pt,mouseStart(n){mt(n,a)&&jt(n)&&(Be(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(n,!0))},touchStart(n){if(mt(n,a)){const l=n.target;Be(a,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","passiveCapture"],[l,"touchend","end","passiveCapture"]]),a.start(n)}},start(n,l){if(_e.is.firefox===!0&&He(e,!0),a.lastEvt=n,l===!0||o.stop===!0){if(a.direction.all!==!0&&(l!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const _=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&it(_),n.cancelBubble===!0&&qe(_),Object.assign(_,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[a.uid]:n.qClonedBy.concat(a.uid)}),a.initialEvent={target:n.target,event:_}}qe(n)}const{left:v,top:k}=Ge(n);a.event={x:v,y:k,time:Date.now(),mouse:l===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:v,lastY:k}},move(n){if(a.event===void 0)return;const l=Ge(n),v=l.left-a.event.x,k=l.top-a.event.y;if(v===0&&k===0)return;a.lastEvt=n;const _=a.event.mouse===!0,s=()=>{u(n,_);let g;o.preserveCursor!==!0&&o.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),_===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ht(),a.styleCleanup=i=>{if(a.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),_===!0){const m=()=>{document.body.classList.remove("no-pointer-events--children")};i!==void 0?setTimeout(()=>{m(),i()},50):m()}else i!==void 0&&i()}};if(a.event.detected===!0){a.event.isFirst!==!0&&u(n,a.event.mouse);const{payload:g,synthetic:i}=We(n,a,!1);g!==void 0&&(a.handler(g)===!1?a.end(n):(a.styleCleanup===void 0&&a.event.isFirst===!0&&s(),a.event.lastX=g.position.left,a.event.lastY=g.position.top,a.event.lastDir=i===!0?void 0:g.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||_===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){s(),a.event.detected=!0,a.move(n);return}const S=Math.abs(v),w=Math.abs(k);S!==w&&(a.direction.horizontal===!0&&S>w||a.direction.vertical===!0&&S<w||a.direction.up===!0&&S<w&&k<0||a.direction.down===!0&&S<w&&k>0||a.direction.left===!0&&S>w&&v<0||a.direction.right===!0&&S>w&&v>0?(a.event.detected=!0,a.move(n)):a.end(n,!0))},end(n,l){if(a.event!==void 0){if(Qe(a,"temp"),_e.is.firefox===!0&&He(e,!1),l===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(We(n===void 0?a.lastEvt:n,a).payload);const{payload:v}=We(n===void 0?a.lastEvt:n,a,!0),k=()=>{a.handler(v)};a.styleCleanup!==void 0?a.styleCleanup(k):k()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(e.__qtouchpan=a,o.mouse===!0){const n=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Be(a,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}_e.has.touch===!0&&Be(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchpan;o!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&o.end(),o.handler=t.value),o.direction=ht(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Qe(t,"main"),Qe(t,"temp"),_e.is.firefox===!0&&He(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}}),gt=150,ya=ie({name:"QDrawer",inheritAttrs:!1,props:{...wt,...tt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ct,"onLayout","miniState"],setup(e,{slots:t,emit:o,attrs:u}){const a=he(),{proxy:{$q:n}}=a,l=at(e,n),{preventBodyScroll:v}=Wt(),{registerTimeout:k,removeTimeout:_}=Je(),s=pt(bt,we);if(s===we)return console.error("QDrawer needs to be child of QLayout"),we;let S,w=null,g;const i=L(e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint),m=h(()=>e.mini===!0&&i.value!==!0),q=h(()=>m.value===!0?e.miniWidth:e.width),b=L(e.showIfAbove===!0&&i.value===!1?!0:e.modelValue===!0),r=h(()=>e.persistent!==!0&&(i.value===!0||me.value===!0));function z(d,I){if(E(),d!==!1&&s.animate(),U(0),i.value===!0){const G=s.instances[Q.value];G!==void 0&&G.belowBreakpoint===!0&&G.hide(!1),ae(1),s.isContainer.value!==!0&&v(!0)}else ae(0),d!==!1&&Ae(!1);k(()=>{d!==!1&&Ae(!0),I!==!0&&o("show",d)},gt)}function Y(d,I){j(),d!==!1&&s.animate(),ae(0),U(R.value*q.value),Pe(),I!==!0?k(()=>{o("hide",d)},gt):_()}const{show:A,hide:F}=kt({showing:b,hideOnRouteChange:r,handleShow:z,handleHide:Y}),{addToHistory:E,removeFromHistory:j}=Qt(b,F,r),T={belowBreakpoint:i,hide:F},V=h(()=>e.side==="right"),R=h(()=>(n.lang.rtl===!0?-1:1)*(V.value===!0?1:-1)),y=L(0),N=L(!1),H=L(!1),te=L(q.value*R.value),Q=h(()=>V.value===!0?"left":"right"),x=h(()=>b.value===!0&&i.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:q.value:0),$=h(()=>e.overlay===!0||e.miniToOverlay===!0||s.view.value.indexOf(V.value?"R":"L")!==-1||n.platform.is.ios===!0&&s.isContainer.value===!0),K=h(()=>e.overlay===!1&&b.value===!0&&i.value===!1),me=h(()=>e.overlay===!0&&b.value===!0&&i.value===!1),Te=h(()=>"fullscreen q-drawer__backdrop"+(b.value===!1&&N.value===!1?" hidden":"")),Ve=h(()=>({backgroundColor:`rgba(0,0,0,${y.value*.4})`})),Ce=h(()=>V.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),de=h(()=>V.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),Ie=h(()=>{const d={};return s.header.space===!0&&Ce.value===!1&&($.value===!0?d.top=`${s.header.offset}px`:s.header.space===!0&&(d.top=`${s.header.size}px`)),s.footer.space===!0&&de.value===!1&&($.value===!0?d.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(d.bottom=`${s.footer.size}px`)),d}),Ne=h(()=>{const d={width:`${q.value}px`,transform:`translateX(${te.value}px)`};return i.value===!0?d:Object.assign(d,Ie.value)}),Re=h(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),se=h(()=>`q-drawer q-drawer--${e.side}`+(H.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(l.value===!0?" q-drawer--dark q-dark":"")+(N.value===!0?" no-transition":b.value===!0?"":" q-layout--prevent-focus")+(i.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${m.value===!0?"mini":"standard"}`+($.value===!0||K.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Ce.value===!0?" q-drawer--top-padding":""))),p=h(()=>{const d=n.lang.rtl===!0?e.side:Q.value;return[[$e,Et,void 0,{[d]:!0,mouse:!0}]]}),D=h(()=>{const d=n.lang.rtl===!0?Q.value:e.side;return[[$e,lt,void 0,{[d]:!0,mouse:!0}]]}),W=h(()=>{const d=n.lang.rtl===!0?Q.value:e.side;return[[$e,lt,void 0,{[d]:!0,mouse:!0,mouseAllDir:!0}]]});function J(){Dt(i,e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint)}O(i,d=>{d===!0?(S=b.value,b.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&S!==!1&&(b.value===!0?(U(0),ae(0),Pe()):A(!1))}),O(()=>e.side,(d,I)=>{s.instances[I]===T&&(s.instances[I]=void 0,s[I].space=!1,s[I].offset=0),s.instances[d]=T,s[d].size=q.value,s[d].space=K.value,s[d].offset=x.value}),O(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&J()}),O(()=>e.behavior+e.breakpoint,J),O(s.isContainer,d=>{b.value===!0&&v(d!==!0),d===!0&&J()}),O(s.scrollbarWidth,()=>{U(b.value===!0?0:void 0)}),O(x,d=>{ue("offset",d)}),O(K,d=>{o("onLayout",d),ue("space",d)}),O(V,()=>{U()}),O(q,d=>{U(),je(e.miniToOverlay,d)}),O(()=>e.miniToOverlay,d=>{je(d,q.value)}),O(()=>n.lang.rtl,()=>{U()}),O(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Bt(),s.animate())}),O(m,d=>{o("miniState",d)});function U(d){d===void 0?ot(()=>{d=b.value===!0?0:q.value,U(R.value*d)}):(s.isContainer.value===!0&&V.value===!0&&(i.value===!0||Math.abs(d)===q.value)&&(d+=R.value*s.scrollbarWidth.value),te.value=d)}function ae(d){y.value=d}function Ae(d){const I=d===!0?"remove":s.isContainer.value!==!0?"add":"";I!==""&&document.body.classList[I]("q-body--drawer-toggle")}function Bt(){w!==null&&clearTimeout(w),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),H.value=!0,w=setTimeout(()=>{w=null,H.value=!1,a&&a.proxy&&a.proxy.$el&&a.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Et(d){if(b.value!==!1)return;const I=q.value,G=Se(d.distance.x,0,I);if(d.isFinal===!0){G>=Math.min(75,I)===!0?A():(s.animate(),ae(0),U(R.value*I)),N.value=!1;return}U((n.lang.rtl===!0?V.value!==!0:V.value)?Math.max(I-G,0):Math.min(0,G-I)),ae(Se(G/I,0,1)),d.isFirst===!0&&(N.value=!0)}function lt(d){if(b.value!==!0)return;const I=q.value,G=d.direction===e.side,ze=(n.lang.rtl===!0?G!==!0:G)?Se(d.distance.x,0,I):0;if(d.isFinal===!0){Math.abs(ze)<Math.min(75,I)===!0?(s.animate(),ae(1),U(0)):F(),N.value=!1;return}U(R.value*ze),ae(Se(1-ze/I,0,1)),d.isFirst===!0&&(N.value=!0)}function Pe(){v(!1),Ae(!0)}function ue(d,I){s.update(e.side,d,I)}function Dt(d,I){d.value!==I&&(d.value=I)}function je(d,I){ue("size",d===!0?e.miniWidth:I)}return s.instances[e.side]=T,je(e.miniToOverlay,q.value),ue("space",K.value),ue("offset",x.value),e.showIfAbove===!0&&e.modelValue!==!0&&b.value===!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",!0),xt(()=>{o("onLayout",K.value),o("miniState",m.value),S=e.showIfAbove===!0;const d=()=>{(b.value===!0?z:Y)(!1,!0)};if(s.totalWidth.value!==0){ot(d);return}g=O(s.totalWidth,()=>{g(),g=void 0,b.value===!1&&e.showIfAbove===!0&&i.value===!1?A(!1):d()})}),Fe(()=>{g!==void 0&&g(),w!==null&&(clearTimeout(w),w=null),b.value===!0&&Pe(),s.instances[e.side]===T&&(s.instances[e.side]=void 0,ue("size",0),ue("offset",0),ue("space",!1))}),()=>{const d=[];i.value===!0&&(e.noSwipeOpen===!1&&d.push(St(f("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),p.value)),d.push(rt("div",{ref:"backdrop",class:Te.value,style:Ve.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&b.value===!0,()=>W.value)));const I=m.value===!0&&t.mini!==void 0,G=[f("div",{...u,key:""+I,class:[Re.value,u.class]},I===!0?t.mini():Me(t.default))];return e.elevated===!0&&b.value===!0&&G.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d.push(rt("aside",{ref:"content",class:se.value,style:Ne.value},G,"contentclose",e.noSwipeClose!==!0&&i.value===!0,()=>D.value)),f("div",{class:"q-drawer-container"},d)}}}),Ft={ratio:[String,Number]};function Tt(e,t){return h(()=>{const o=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(o)!==!0&&o>0?{paddingBottom:`${100/o}%`}:null})}const _a=1.7778,wa=ie({name:"QImg",props:{...Ft,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:_a},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:o}){const u=L(e.initialRatio),a=Tt(e,u),n=he(),{registerTimeout:l,removeTimeout:v}=Je(),{registerTimeout:k,removeTimeout:_}=Je(),s=h(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),S=h(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),w=[L(null),L(s.value)],g=L(0),i=L(!1),m=L(!1),q=h(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),b=h(()=>({width:e.width,height:e.height})),r=h(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),z=h(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function Y(){if(_(),e.loadingShowDelay===0){i.value=!0;return}k(()=>{i.value=!0},e.loadingShowDelay)}function A(){_(),i.value=!1}function F({target:y}){Ue(n)===!1&&(v(),u.value=y.naturalHeight===0?.5:y.naturalWidth/y.naturalHeight,E(y,1))}function E(y,N){N===1e3||Ue(n)===!0||(y.complete===!0?j(y):l(()=>{E(y,N+1)},50))}function j(y){Ue(n)!==!0&&(g.value=g.value^1,w[g.value].value=null,A(),y.getAttribute("__qerror")!=="true"&&(m.value=!1),o("load",y.currentSrc||y.src))}function T(y){v(),A(),m.value=!0,w[g.value].value=S.value,w[g.value^1].value=s.value,o("error",y)}function V(y){const N=w[y].value,H={key:"img_"+y,class:r.value,style:z.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...N};return g.value===y?Object.assign(H,{class:H.class+"current",onLoad:F,onError:T}):H.class+="loaded",f("div",{class:"q-img__container absolute-full",key:"img"+y},f("img",H))}function R(){return i.value===!1?f("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Me(t[m.value===!0?"error":"default"])):f("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[f(Ze,{color:e.spinnerColor,size:e.spinnerSize})])}{let y=function(){O(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,N=>{v(),m.value=!1,N===null?(A(),w[g.value^1].value=s.value):Y(),w[g.value].value=N},{immediate:!0})};$t.value===!0?xt(y):y()}return()=>{const y=[];return a.value!==null&&y.push(f("div",{key:"filler",style:a.value})),w[0].value!==null&&y.push(V(0)),w[1].value!==null&&y.push(V(1)),y.push(f(yt,{name:"q-transition--fade"},R)),f("div",{key:"main",class:q.value,style:b.value,role:"img","aria-label":e.alt},y)}}}),Ca=ie({name:"QVideo",props:{...Ft,src:{type:String,required:!0},title:String,fetchpriority:{type:String,default:"auto"},loading:{type:String,default:"eager"},referrerpolicy:{type:String,default:"strict-origin-when-cross-origin"}},setup(e){const t=Tt(e),o=h(()=>"q-video"+(e.ratio!==void 0?" q-video--responsive":""));return()=>f("div",{class:o.value,style:t.value},[f("iframe",{src:e.src,title:e.title,fetchpriority:e.fetchpriority,loading:e.loading,referrerpolicy:e.referrerpolicy,frameborder:"0",allowfullscreen:!0})])}}),ka=ie({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const o=h(()=>e.sent===!0?"sent":"received"),u=h(()=>`q-message-text-content q-message-text-content--${o.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),a=h(()=>`q-message-text q-message-text--${o.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),n=h(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),l=h(()=>e.size!==void 0?`col-${e.size}`:""),v=h(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function k(s){return t.stamp!==void 0?[s,f("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[s,f("div",{class:"q-message-stamp",[v.value.stamp]:e.stamp})]:[s]}function _(s,S){const w=S===!0?s.length>1?g=>g:g=>f("div",[g]):g=>f("div",{[v.value.msg]:g});return s.map((g,i)=>f("div",{key:i,class:a.value},[f("div",{class:u.value},k(w(g)))]))}return()=>{const s=[];t.avatar!==void 0?s.push(t.avatar()):e.avatar!==void 0&&s.push(f("img",{class:`q-message-avatar q-message-avatar--${o.value}`,src:e.avatar,"aria-hidden":"true"}));const S=[];t.name!==void 0?S.push(f("div",{class:`q-message-name q-message-name--${o.value}`},t.name())):e.name!==void 0&&S.push(f("div",{class:`q-message-name q-message-name--${o.value}`,[v.value.name]:e.name})),t.default!==void 0?S.push(_(Yt(t.default()),!0)):e.text!==void 0&&S.push(_(e.text)),s.push(f("div",{class:l.value},S));const w=[];return t.label!==void 0?w.push(f("div",{class:"q-message-label"},t.label())):e.label!==void 0&&w.push(f("div",{class:"q-message-label",[v.value.label]:e.label})),w.push(f("div",{class:n.value},s)),f("div",{class:`q-message q-message-${o.value}`},w)}}}),Sa={...Xt,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},et=50,Vt=2*et,It=Vt*Math.PI,xa=Math.round(It*1e3)/1e3,qa=ie({name:"QCircularProgress",props:{...Sa,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:o}}=he(),u=Kt(e),a=h(()=>{const g=(o.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(o.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-g}deg)`:`rotate3d(0, 0, 1, ${g-90}deg)`}}),n=h(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),l=h(()=>Vt/(1-e.thickness/2)),v=h(()=>`${l.value/2} ${l.value/2} ${l.value} ${l.value}`),k=h(()=>Se(e.value,e.min,e.max)),_=h(()=>e.max-e.min),s=h(()=>e.thickness/2*l.value),S=h(()=>{const g=(e.max-k.value)/_.value,i=e.rounded===!0&&k.value<e.max&&g<.25?s.value/2*(1-g/.25):0;return It*g+i});function w({thickness:g,offset:i,color:m,cls:q,rounded:b}){return f("circle",{class:"q-circular-progress__"+q+(m!==void 0?` text-${m}`:""),style:n.value,fill:"transparent",stroke:"currentColor","stroke-width":g,"stroke-dasharray":xa,"stroke-dashoffset":i,"stroke-linecap":b,cx:l.value,cy:l.value,r:et})}return()=>{const g=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&g.push(f("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:et-s.value/2,cx:l.value,cy:l.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&g.push(w({cls:"track",thickness:s.value,offset:0,color:e.trackColor})),g.push(w({cls:"circle",thickness:s.value,offset:S.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const i=[f("svg",{class:"q-circular-progress__svg",style:a.value,viewBox:v.value,"aria-hidden":"true"},g)];return e.showValue===!0&&i.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[f("div",k.value)])),f("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:u.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:k.value},Gt(t.internal,i))}}});function ye(e,t,o,u){const a=[];return e.forEach(n=>{u(n)===!0?a.push(n):t.push({failedPropValidation:o,file:n})}),a}function De(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),Oe(e)}const Fa={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Ta=["rejected"];function Va({editable:e,dnd:t,getFileInput:o,addFilesToQueue:u}){const{props:a,emit:n,proxy:l}=he(),v=L(null),k=h(()=>a.accept!==void 0?a.accept.split(",").map(r=>(r=r.trim(),r==="*"?"*/":(r.endsWith("/*")&&(r=r.slice(0,r.length-1)),r.toUpperCase()))):null),_=h(()=>parseInt(a.maxFiles,10)),s=h(()=>parseInt(a.maxTotalSize,10));function S(r){if(e.value)if(r!==Object(r)&&(r={target:null}),r.target!==null&&r.target.matches('input[type="file"]')===!0)r.clientX===0&&r.clientY===0&&qe(r);else{const z=o();z&&z!==r.target&&z.click(r)}}function w(r){e.value&&r&&u(null,r)}function g(r,z,Y,A){let F=Array.from(z||r.target.files);const E=[],j=()=>{E.length!==0&&n("rejected",E)};if(a.accept!==void 0&&k.value.indexOf("*/")===-1&&(F=ye(F,E,"accept",T=>k.value.some(V=>T.type.toUpperCase().startsWith(V)||T.name.toUpperCase().endsWith(V))),F.length===0))return j();if(a.maxFileSize!==void 0){const T=parseInt(a.maxFileSize,10);if(F=ye(F,E,"max-file-size",V=>V.size<=T),F.length===0)return j()}if(a.multiple!==!0&&F.length!==0&&(F=[F[0]]),F.forEach(T=>{T.__key=T.webkitRelativePath+T.lastModified+T.name+T.size}),A===!0){const T=Y.map(V=>V.__key);F=ye(F,E,"duplicate",V=>T.includes(V.__key)===!1)}if(F.length===0)return j();if(a.maxTotalSize!==void 0){let T=A===!0?Y.reduce((V,R)=>V+R.size,0):0;if(F=ye(F,E,"max-total-size",V=>(T+=V.size,T<=s.value)),F.length===0)return j()}if(typeof a.filter=="function"){const T=a.filter(F);F=ye(F,E,"filter",V=>T.includes(V))}if(a.maxFiles!==void 0){let T=A===!0?Y.length:0;if(F=ye(F,E,"max-files",()=>(T++,T<=_.value)),F.length===0)return j()}if(j(),F.length!==0)return F}function i(r){De(r),t.value!==!0&&(t.value=!0)}function m(r){Oe(r),(r.relatedTarget!==null||_e.is.safari!==!0?r.relatedTarget!==v.value:document.elementsFromPoint(r.clientX,r.clientY).includes(v.value)===!1)===!0&&(t.value=!1)}function q(r){De(r);const z=r.dataTransfer.files;z.length!==0&&u(null,z),t.value=!1}function b(r){if(t.value===!0)return f("div",{ref:v,class:`q-${r}__dnd absolute-full`,onDragenter:De,onDragover:De,onDragleave:m,onDrop:q})}return Object.assign(l,{pickFiles:S,addFiles:w}),{pickFiles:S,addFiles:w,onDragover:i,onDragleave:m,processFiles:g,getDndNode:b,maxFilesNumber:_,maxTotalSizeNumber:s}}function vt(e){return(e*100).toFixed(2)+"%"}const Ia={...tt,...Fa,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},zt=[...Ta,"start","finish","added","removed"];function za(e,t){const o=he(),{props:u,slots:a,emit:n,proxy:l}=o,{$q:v}=l,k=at(u,v);function _(p,D,W){if(p.__status=D,D==="idle"){p.__uploaded=0,p.__progress=0,p.__sizeLabel=st(p.size),p.__progressLabel="0.00%";return}if(D==="failed"){l.$forceUpdate();return}p.__uploaded=D==="uploaded"?p.size:W,p.__progress=D==="uploaded"?1:Math.min(.9999,p.__uploaded/p.size),p.__progressLabel=vt(p.__progress),l.$forceUpdate()}const s=h(()=>u.disable!==!0&&u.readonly!==!0),S=L(!1),w=L(null),g=L(null),i={files:L([]),queuedFiles:L([]),uploadedFiles:L([]),uploadedSize:L(0),updateFileStatus:_,isAlive:()=>Ue(o)===!1},{pickFiles:m,addFiles:q,onDragover:b,onDragleave:r,processFiles:z,getDndNode:Y,maxFilesNumber:A,maxTotalSizeNumber:F}=Va({editable:s,dnd:S,getFileInput:Te,addFilesToQueue:Ve});Object.assign(i,e({props:u,slots:a,emit:n,helpers:i,exposeApi:p=>{Object.assign(i,p)}})),i.isBusy===void 0&&(i.isBusy=L(!1));const E=L(0),j=h(()=>E.value===0?0:i.uploadedSize.value/E.value),T=h(()=>vt(j.value)),V=h(()=>st(E.value)),R=h(()=>s.value===!0&&i.isUploading.value!==!0&&(u.multiple===!0||i.queuedFiles.value.length===0)&&(u.maxFiles===void 0||i.files.value.length<A.value)&&(u.maxTotalSize===void 0||E.value<F.value)),y=h(()=>s.value===!0&&i.isBusy.value!==!0&&i.isUploading.value!==!0&&i.queuedFiles.value.length!==0);Jt(Zt,Ie);const N=h(()=>"q-uploader column no-wrap"+(k.value===!0?" q-uploader--dark q-dark":"")+(u.bordered===!0?" q-uploader--bordered":"")+(u.square===!0?" q-uploader--square no-border-radius":"")+(u.flat===!0?" q-uploader--flat no-shadow":"")+(u.disable===!0?" disabled q-uploader--disable":"")+(S.value===!0?" q-uploader--dnd":"")),H=h(()=>"q-uploader__header"+(u.color!==void 0?` bg-${u.color}`:"")+(u.textColor!==void 0?` text-${u.textColor}`:""));O(i.isUploading,(p,D)=>{D===!1&&p===!0?n("start"):D===!0&&p===!1&&n("finish")});function te(){u.disable===!1&&(i.abort(),i.uploadedSize.value=0,E.value=0,me(),i.files.value=[],i.queuedFiles.value=[],i.uploadedFiles.value=[])}function Q(){u.disable===!1&&$(["uploaded"],()=>{i.uploadedFiles.value=[]})}function x(){$(["idle","failed"],({size:p})=>{E.value-=p,i.queuedFiles.value=[]})}function $(p,D){if(u.disable===!0)return;const W={files:[],size:0},J=i.files.value.filter(U=>p.indexOf(U.__status)===-1?!0:(W.size+=U.size,W.files.push(U),U.__img!==void 0&&window.URL.revokeObjectURL(U.__img.src),!1));W.files.length!==0&&(i.files.value=J,D(W),n("removed",W.files))}function K(p){u.disable||(p.__status==="uploaded"?i.uploadedFiles.value=i.uploadedFiles.value.filter(D=>D.__key!==p.__key):p.__status==="uploading"?p.__abort():E.value-=p.size,i.files.value=i.files.value.filter(D=>D.__key!==p.__key?!0:(D.__img!==void 0&&window.URL.revokeObjectURL(D.__img.src),!1)),i.queuedFiles.value=i.queuedFiles.value.filter(D=>D.__key!==p.__key),n("removed",[p]))}function me(){i.files.value.forEach(p=>{p.__img!==void 0&&window.URL.revokeObjectURL(p.__img.src)})}function Te(){return g.value||w.value.getElementsByClassName("q-uploader__input")[0]}function Ve(p,D){const W=z(p,D,i.files.value,!0),J=Te();J!=null&&(J.value=""),W!==void 0&&(W.forEach(U=>{if(i.updateFileStatus(U,"idle"),E.value+=U.size,u.noThumbnails!==!0&&U.type.toUpperCase().startsWith("IMAGE")){const ae=new Image;ae.src=window.URL.createObjectURL(U),U.__img=ae}}),i.files.value=i.files.value.concat(W),i.queuedFiles.value=i.queuedFiles.value.concat(W),n("added",W),u.autoUpload===!0&&i.upload())}function Ce(){y.value===!0&&i.upload()}function de(p,D,W){if(p===!0){const J={type:"a",key:D,icon:v.iconSet.uploader[D],flat:!0,dense:!0};let U;return D==="add"?(J.onClick=m,U=Ie):J.onClick=W,f(B,J,U)}}function Ie(){return f("input",{ref:g,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:u.accept,multiple:u.multiple===!0?"multiple":void 0,capture:u.capture,onMousedown:qe,onClick:m,onChange:Ve})}function Ne(){return a.header!==void 0?a.header(se):[f("div",{class:"q-uploader__header-content column"},[f("div",{class:"flex flex-center no-wrap q-gutter-xs"},[de(i.queuedFiles.value.length!==0,"removeQueue",x),de(i.uploadedFiles.value.length!==0,"removeUploaded",Q),i.isUploading.value===!0?f(Ze,{class:"q-uploader__spinner"}):null,f("div",{class:"col column justify-center"},[u.label!==void 0?f("div",{class:"q-uploader__title"},[u.label]):null,f("div",{class:"q-uploader__subtitle"},[V.value+" / "+T.value])]),de(R.value,"add"),de(u.hideUploadBtn===!1&&y.value===!0,"upload",i.upload),de(i.isUploading.value,"clear",i.abort)])])]}function Re(){return a.list!==void 0?a.list(se):i.files.value.map(p=>f("div",{key:p.__key,class:"q-uploader__file relative-position"+(u.noThumbnails!==!0&&p.__img!==void 0?" q-uploader__file--img":"")+(p.__status==="failed"?" q-uploader__file--failed":p.__status==="uploaded"?" q-uploader__file--uploaded":""),style:u.noThumbnails!==!0&&p.__img!==void 0?{backgroundImage:'url("'+p.__img.src+'")',backgroundSize:u.thumbnailFit}:null},[f("div",{class:"q-uploader__file-header row flex-center no-wrap"},[p.__status==="failed"?f(Ke,{class:"q-uploader__file-status",name:v.iconSet.type.negative,color:"negative"}):null,f("div",{class:"q-uploader__file-header-content col"},[f("div",{class:"q-uploader__title"},[p.name]),f("div",{class:"q-uploader__subtitle row items-center no-wrap"},[p.__sizeLabel+" / "+p.__progressLabel])]),p.__status==="uploading"?f(qa,{value:p.__progress,min:0,max:1,indeterminate:p.__progress===0}):f(B,{round:!0,dense:!0,flat:!0,icon:v.iconSet.uploader[p.__status==="uploaded"?"done":"clear"],onClick:()=>{K(p)}})])]))}Fe(()=>{i.isUploading.value===!0&&i.abort(),i.files.value.length!==0&&me()});const se={};for(const p in i)ea(i[p])===!0?ta(se,p,()=>i[p].value):se[p]=i[p];return Object.assign(se,{upload:Ce,reset:te,removeUploadedFiles:Q,removeQueuedFiles:x,removeFile:K,pickFiles:m,addFiles:q}),aa(se,{canAddFiles:()=>R.value,canUpload:()=>y.value,uploadSizeLabel:()=>V.value,uploadProgressLabel:()=>T.value}),t({...i,upload:Ce,reset:te,removeUploadedFiles:Q,removeQueuedFiles:x,removeFile:K,pickFiles:m,addFiles:q,canAddFiles:R,canUpload:y,uploadSizeLabel:V,uploadProgressLabel:T}),()=>{const p=[f("div",{class:H.value},Ne()),f("div",{class:"q-uploader__list scroll"},Re()),Y("uploader")];i.isBusy.value===!0&&p.push(f("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[f(Ze)]));const D={ref:w,class:N.value};return R.value===!0&&Object.assign(D,{onDragover:b,onDragleave:r}),f("div",D,p)}}const Ba=()=>!0;function Ea(e){const t={};return e.forEach(o=>{t[o]=Ba}),t}const Da=Ea(zt),La=({name:e,props:t,emits:o,injectPlugin:u})=>ie({name:e,props:{...Ia,...t},emits:na(o)===!0?{...Da,...o}:[...zt,...o],setup(a,{expose:n}){return za(u,n)}});function re(e){return typeof e=="function"?e:()=>e}const Ua="QUploader",Ma={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Oa=["factoryFailed","uploaded","failed","uploading"];function Na({props:e,emit:t,helpers:o}){const u=L([]),a=L([]),n=L(0),l=h(()=>({url:re(e.url),method:re(e.method),headers:re(e.headers),formFields:re(e.formFields),fieldName:re(e.fieldName),withCredentials:re(e.withCredentials),sendRaw:re(e.sendRaw),batch:re(e.batch)})),v=h(()=>n.value>0),k=h(()=>a.value.length!==0);let _;function s(){u.value.forEach(i=>{i.abort()}),a.value.length!==0&&(_=!0)}function S(){const i=o.queuedFiles.value.slice(0);o.queuedFiles.value=[],l.value.batch(i)?w(i):i.forEach(m=>{w([m])})}function w(i){if(n.value++,typeof e.factory!="function"){g(i,{});return}const m=e.factory(i);if(!m)t("factoryFailed",new Error("QUploader: factory() does not return properly"),i),n.value--;else if(typeof m.catch=="function"&&typeof m.then=="function"){a.value.push(m);const q=b=>{o.isAlive()===!0&&(a.value=a.value.filter(r=>r!==m),a.value.length===0&&(_=!1),o.queuedFiles.value=o.queuedFiles.value.concat(i),i.forEach(r=>{o.updateFileStatus(r,"failed")}),t("factoryFailed",b,i),n.value--)};m.then(b=>{_===!0?q(new Error("Aborted")):o.isAlive()===!0&&(a.value=a.value.filter(r=>r!==m),g(i,b))}).catch(q)}else g(i,m||{})}function g(i,m){const q=new FormData,b=new XMLHttpRequest,r=(y,N)=>m[y]!==void 0?re(m[y])(N):l.value[y](N),z=r("url",i);if(!z){console.error("q-uploader: invalid or no URL specified"),n.value--;return}const Y=r("formFields",i);Y!==void 0&&Y.forEach(y=>{q.append(y.name,y.value)});let A=0,F=0,E=0,j=0,T;b.upload.addEventListener("progress",y=>{if(T===!0)return;const N=Math.min(j,y.loaded);o.uploadedSize.value+=N-E,E=N;let H=E-F;for(let te=A;H>0&&te<i.length;te++){const Q=i[te];if(H>Q.size)H-=Q.size,A++,F+=Q.size,o.updateFileStatus(Q,"uploading",Q.size);else{o.updateFileStatus(Q,"uploading",H);return}}},!1),b.onreadystatechange=()=>{b.readyState<4||(b.status&&b.status<400?(o.uploadedFiles.value=o.uploadedFiles.value.concat(i),i.forEach(y=>{o.updateFileStatus(y,"uploaded")}),t("uploaded",{files:i,xhr:b})):(T=!0,o.uploadedSize.value-=E,o.queuedFiles.value=o.queuedFiles.value.concat(i),i.forEach(y=>{o.updateFileStatus(y,"failed")}),t("failed",{files:i,xhr:b})),n.value--,u.value=u.value.filter(y=>y!==b))},b.open(r("method",i),z),r("withCredentials",i)===!0&&(b.withCredentials=!0);const V=r("headers",i);V!==void 0&&V.forEach(y=>{b.setRequestHeader(y.name,y.value)});const R=r("sendRaw",i);i.forEach(y=>{o.updateFileStatus(y,"uploading",0),R!==!0&&q.append(r("fieldName",y),y,y.name),y.xhr=b,y.__abort=()=>{b.abort()},j+=y.size}),t("uploading",{files:i,xhr:b}),u.value.push(b),R===!0?b.send(new Blob(i)):b.send(q)}return{isUploading:v,isBusy:k,abort:s,upload:S}}const Ra={name:Ua,props:Ma,emits:Oa,injectPlugin:Na},Ye=La(Ra);class xe extends Error{}xe.prototype.name="InvalidTokenError";function Aa(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,o)=>{let u=o.charCodeAt(0).toString(16).toUpperCase();return u.length<2&&(u="0"+u),"%"+u}))}function Pa(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Aa(t)}catch{return atob(t)}}function ja(e,t){if(typeof e!="string")throw new xe("Invalid token specified: must be a string");t||(t={});const o=t.header===!0?0:1,u=e.split(".")[o];if(typeof u!="string")throw new xe(`Invalid token specified: missing part #${o+1}`);let a;try{a=Pa(u)}catch(n){throw new xe(`Invalid token specified: invalid base64 for part #${o+1} (${n.message})`)}try{return JSON.parse(a)}catch(n){throw new xe(`Invalid token specified: invalid json for part #${o+1} (${n.message})`)}}const Ha={data(){return{messages:[],ws_action:"send",message:"",message_type:"1",message_isReply:!1,message_Reply:"",name:"",Id:"",avatar_url:"",bio:"",birthday:"",ws:null,isConnected:!1,currentTime:"",leftDrawerOpen_1:!1,newChatroomDialogVisible:!1,expansionVisible:!1,uploadFileDialogVisible_1:!1,uploadFileDialogVisible_2:!1,uploadFileDialogVisible_3:!1,siderVisible:!1,InputContainerVisible:!0,current_chatroom:"",current_chatroom_id:"",current_chatroom_moderator:[],allBadges:[],chatrooms:[],showDetails:!1,current_chatroom_owner:"",badges:[],all_badges:[],newChatroomName:"",newChatroomOwner:"",newChatroomModerator:"",expansionX:0,expansionY:0,edit_message_id:"",edit_name_id:"",edit_name:"",matChevronRight:ia,matChevronLeft:oa}},mounted(){this.current_chatroom_id=localStorage.getItem("current_chatroom_id"),this.current_chatroom_id==null&&(localStorage.setItem("current_chatroom_id",1),this.current_chatroom_id=1);const e=localStorage.getItem("token");if(console.log(e),!localStorage.getItem("token")){this.$router.push("/login");return}try{const t=ja(e);console.log(t),this.name=t.username,this.Id=t.userId,this.avatar_url=t.user_avatar}catch(t){console.error("Invalid token or decoding failed:",t),this.$router.push("/login")}this.connetWebsocket(),this.fetchChatrooms(),this.fetchAccountInfo(),setInterval(this.updateTime,1e3)},methods:{async connetWebsocket(){this.ws=new WebSocket("wss://zhengfu200.serv00.net"),this.ws.onopen=()=>{this.isConnected=!0,console.log("WebSocket connection established"),this.$q.notify({type:"positive",position:"top",message:"服务器连接成功",timeout:1e3})},this.ws.onmessage=e=>{const t=JSON.parse(e.data);if(t.success===!1&&(console.log(t),this.$q.notify({type:"negative",message:t.message,position:"top",timeout:1e3}),console.log("Error:",t.message)),t.action=="newMessage"){const o=JSON.parse(e.data);this.messages.push(o),this.fetchMessages()}t.action=="messageRevoked"&&(this.$q.notify({type:"positive",message:t.message}),this.fetchMessages())},this.ws.onclose=()=>{this.isConnected=!1,this.$q.notify({type:"negative",position:"top",message:"服务器连接中断，请刷新再试",timeout:1e3}),console.log("WebSocket connection closed")},this.ws.onerror=e=>{console.log("WebSocket error:",e)}},async fetchAllChatrooms(){fetch("https://zhengfu200.serv00.net/api/all_chatrooms").then(e=>e.json()).then(e=>{this.chatrooms=e.chatrooms}).catch(e=>{console.error("Error fetching chatrooms:",e)})},async fetchChatrooms(){fetch(`https://zhengfu200.serv00.net/api/chatrooms?chatroom_id=${this.current_chatroom_id}`).then(e=>e.json()).then(e=>{this.current_chatroom_id=e.chatrooms.id,this.current_chatroom=e.chatrooms.name,this.current_chatroom_owner=e.chatrooms.owner,this.fetchMessages()}).catch(e=>{this.$q.notify({color:"negative",message:"聊天室获取错误，如果您还未创建任何聊天室，请创建一个！",icon:"report_problem",position:"top"}),console.error("Error fetching chatrooms:",e)})},async fetchMessages(){fetch(`https://zhengfu200.serv00.net/api/chatroomBadges?chatroom_id=${this.current_chatroom_id}`).then(e=>e.json()).then(e=>{this.all_badges=e.badges,console.log(this.all_badges)}).catch(e=>{console.error("Error fetching chatroom badges:",e)}),fetch(`https://zhengfu200.serv00.net/api/messages?chatroom_id=${this.current_chatroom_id}`).then(e=>e.json()).then(e=>{this.messages=e.messages}).catch(e=>{console.error("Error fetching messages:",e)})},sendMessage(){if(this.isConnected&&this.message&&this.name){const e=new Date().toLocaleTimeString(),t={action:this.ws_action,chatroom:this.current_chatroom,Id:this.Id,name:this.name,avatar:this.avatar_url,message:this.message,currentTime:e,message_type:parseInt(this.message_type,10),message_isReply:this.message_isReply,message_Reply:this.message_Reply};this.ws.send(JSON.stringify(t)),this.message="",this.message_type=1}else this.isConnected?this.name?this.message||this.$q.notify({color:"negative",message:"无法发送空消息!",icon:"report_problem",position:"top"}):this.$q.notify({color:"negative",message:"用户数据获取错误，请重新登录!",icon:"report_problem",position:"top"}):(this.$q.notify({color:"negative ",message:"服务器连接中断，尝试重连……",icon:"report_problem",position:"top"}),this.connetWebsocket())},updateTime(){const e=new Date;this.currentTime=e.toLocaleTimeString()},gotoLogin(){this.$router.push("/login")},toggleDrawer(){this.fetchAllChatrooms(),this.leftDrawerOpen_1=!this.leftDrawerOpen_1},switchChatRoom(e){this.current_chatroom_id=e,localStorage.setItem("current_chatroom_id",e),this.fetchChatrooms()},toggleDetails(){this.getAllBadges(),this.getModerator(),this.showDetails=!this.showDetails},goToServerModerator(){this.$router.push({name:"server-moderator",query:{chatroom_id:this.current_chatroom_id,chatroom:this.current_chatroom,owner:this.current_chatroom_owner}})},getBadgeColor(e){return e=="owner"?"red":e=="moderator"?"blue":e=="developer"?"gray":"green"},CreateChatroom(){this.newChatroomName.trim()?(console.log("创建聊天室: ",this.newChatroomName),this.newChatroomDialogVisible=!1,fetch("https://zhengfu200.serv00.net/api/CreateChatRoom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Id:this.Id,name:this.name,NewChatroomName:this.newChatroomName})}).then(e=>{if(!e.ok)return e.json().then(t=>{throw new Error(t.error)})}).then(e=>{console.log("聊天室创建成功:",e),this.$q.notify({type:"positive",message:"聊天室创建成功",position:"top"}),this.newChatroomDialogVisible=!1,this.fetchChatrooms(),window.location.reload()}).catch(e=>{this.$q.notify({type:"negative",message:e.message,position:"top"})})):this.$q.notify({type:"negative",message:"聊天室名称不能为空",position:"top"})},fetchAccountInfo(){const e=`https://zhengfu200.serv00.net/api/accountInfo?id=${this.Id}`;fetch(e).then(t=>t.ok?t.json():Promise.reject("获取用户数据错误："+t.status)).then(t=>{console.log("用户信息:",t),this.bio=t.bio,this.birthday=t.birthday}).catch(t=>{console.error("请求失败，网络错误:",t),this.$q.notify({type:"negative",message:"请求失败，网络错误："+t,position:"top",timeout:3e3})})},gotoAccountInfo(){this.$router.push({path:"/AccountInfo",query:{id:this.Id}})},gotoUserInfo(e){this.$router.push({path:"/AccountInfo",query:{id:e}})},editType(){this.expansionVisible=!this.expansionVisible},editTypeText(){this.message_type="1",this.expansionVisible=!this.expansionVisible},editTypePhoto(){this.uploadFileDialogVisible_1=!this.uploadFileDialogVisible_1,this.message_type="2",this.expansionVisible=!this.expansionVisible},editTypeVideo(){this.uploadFileDialogVisible_2=!this.uploadFileDialogVisible_2,this.message_type="3",this.expansionVisible=!this.expansionVisible},editTypeWeb(){this.message_type="4",this.expansionVisible=!this.expansionVisible},editTypeFile(){this.uploadFileDialogVisible_3=!this.uploadFileDialogVisible_3,this.message_type="5",this.expansionVisible=!this.expansionVisible},openSourceInNewTab(e){window.open(e,"_blank")},handleUploadSuccess({xhr:e}){const o=JSON.parse(e.responseText).filename;this.message="https://zhengfu200.serv00.net/file/"+o,this.sendMessage(),console.log(this.message),this.$q.notify({message:"上传成功",color:"positive",icon:"check"}),this.message_type==2&&(this.uploadFileDialogVisible_1=!this.uploadFileDialogVisible_1),this.message_type==3&&(this.uploadFileDialogVisible_2=!this.uploadFileDialogVisible_2),this.message_type==5&&(this.uploadFileDialogVisible_3=!this.uploadFileDialogVisible_3)},handleUploadError(e){this.$q.notify({message:"文件上传失败",color:"negative",icon:"error"}),console.error("文件上传失败:",e)},downloadFile(e){const t=document.createElement("a");t.href=e,t.download=e.split("/").pop(),t.click()},openSider(){this.siderVisible=!this.siderVisible},clickMessage(e,t,o,u){const a=window.innerHeight;this.expansionX=e.clientX,e.clientY+200>a?(console.log("overflow"),this.expansionY=e.clientY-200):this.expansionY=e.clientY,this.edit_message_id=t,this.edit_name_id=o,this.edit_name=u,this.siderVisible=!this.siderVisible},replyMessage(e){this.message_isReply=!0,this.message_Reply="回复"+e+":",this.siderVisible=!this.siderVisible},cancelReply(){this.message_isReply=!1,this.message_Reply="",this.expansionVisible=!this.expansionVisible},recallMessage(e,t){this.ws_action="recall";const o=localStorage.getItem("token");if(this.isConnected){const u={action:this.ws_action,chatroom:this.current_chatroom,Id:this.Id,message_id:e,name_id:t,token:o};this.ws.send(JSON.stringify(u))}else this.$q.notify({color:"yellow",message:"服务器连接中断，请刷新再试",icon:"report_problem",position:"top"}),console.log("WebSocket is not connected");this.ws_action="send",this.edit_message_id="",this.edit_name_id="",this.edit_name="",this.siderVisible=!this.siderVisible},closeSider(){this.siderVisible=!this.siderVisible},hideInputContainer(){this.InputContainerVisible=!this.InputContainerVisible},async getModerator(){try{const e=`https://zhengfu200.serv00.net/api/chatroomModerators?chatroom_id=${this.current_chatroom_id}`,t=await fetch(e);if(!t.ok)throw new Error("请求失败，请重试");const o=await t.json();this.current_chatroom_moderator=o.moderators}catch(e){this.$q.notify({color:"red",message:e.message,icon:"error"})}},async getAllBadges(){try{const e=`https://zhengfu200.serv00.net/api/allBadges?chatroom_id=${this.current_chatroom_id}`,t=await fetch(e);if(!t.ok)throw new Error("请求失败，请重试");const o=await t.json();this.allBadges=Array.isArray(o.fields)?o.fields:[]}catch(e){this.$q.notify({color:"red",message:e.message,icon:"error"})}},AboutProject(){window.open("https://github.com/Zhengfu200/ZChat_v1","_blank")}}},Qa={class:"col text-center text-weight-bold"},Wa={key:0},$a={style:{"font-weight":"600"}},Ya={style:{"font-weight":"600"}},Xa={style:{"font-weight":"600"}},Ka={style:{"font-weight":"600"}},Ga={key:1},Ja=["src"],Za={style:{"margin-top":"10px","font-weight":"500",overflow:"hidden"}},en={class:"chat-container"},tn={class:"message-container"},an={key:0},nn=["innerHTML"],ln={key:1},on=["href"],rn={key:5},sn={class:"chat-input-container"};function un(e,t,o,u,a,n){return M(),ne(ra,{padding:"",style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(ma,{elevated:""},{default:C(()=>[c(sa,{class:"bg-primary"},{default:C(()=>[c(B,{dense:"",flat:"",icon:"chat"}),t[15]||(t[15]=P("div",{class:"text-weight-bold"}," ZChat ",-1)),c(B,{dense:"",flat:"",icon:"menu",onClick:n.toggleDrawer},null,8,["onClick"]),P("div",Qa,oe(a.current_chatroom),1),c(ha),c(B,{dense:"",flat:"",icon:"edit",onClick:n.goToServerModerator},null,8,["onClick"]),c(B,{dense:"",flat:"",icon:"info",onClick:n.toggleDetails},null,8,["onClick"]),c(B,{dense:"",flat:"",icon:"login",class:"gt-xs",onClick:n.gotoLogin},null,8,["onClick"]),P("div",null,oe(a.currentTime),1)]),_:1})]),_:1}),c(ke,{modelValue:a.showDetails,"onUpdate:modelValue":t[1]||(t[1]=l=>a.showDetails=l),"backdrop-filter":"blur(4px) saturate(150%)"},{default:C(()=>[c(ge,{style:{width:"60vw"}},{default:C(()=>[c(ve,null,{default:C(()=>[t[19]||(t[19]=P("div",{class:"text-h6"},"聊天室详情",-1)),a.current_chatroom?(M(),X("div",Wa,[P("p",$a,[c(ce,{rounded:"",color:"green"}),Z(" 🚩 名称 : "+oe(a.current_chatroom),1)]),P("p",Ya,[c(ce,{rounded:"",color:"red"}),Z(" 👑 所有者: "+oe(a.current_chatroom_owner),1)]),P("div",null,[P("p",Xa,[c(ce,{rounded:"",color:"blue"}),t[16]||(t[16]=Z(" 👮 管理员:"))]),(M(!0),X(pe,null,be(a.current_chatroom_moderator,(l,v)=>(M(),X("p",{style:{"font-weight":"400","margin-left":"20px"},key:v},[c(ce,{rounded:"",color:"blue"}),Z(" "+oe(l),1)]))),128))]),P("div",null,[P("p",Ka,[c(ce,{rounded:"",color:"purple"}),t[17]||(t[17]=Z(" 🕶️ 身份组:"))]),c(Ee,null,{default:C(()=>[(M(!0),X(pe,null,be(a.allBadges,l=>(M(),ne(ce,{style:{"margin-left":"10px"},key:l.id,label:l,color:n.getBadgeColor(l)},null,8,["label","color"]))),128))]),_:1})])])):(M(),X("div",Ga,t[18]||(t[18]=[P("p",null,"No chatroom selected.",-1)])))]),_:1}),c(ut,null,{default:C(()=>[c(B,{flat:"",label:"Close",onClick:t[0]||(t[0]=l=>a.showDetails=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(ya,{modelValue:a.leftDrawerOpen_1,"onUpdate:modelValue":t[3]||(t[3]=l=>a.leftDrawerOpen_1=l),side:"left",style:{width:"25vw",padding:"10px"},bordered:""},{default:C(()=>[c(ge,null,{default:C(()=>[c(ve,{class:"avatar-section text-center"},{default:C(()=>[c(ua,null,{default:C(()=>[P("img",{src:a.avatar_url?a.avatar_url:"https://img.icons8.com/?size=100&id=YXG86oegZMMh&format=png&color=000000"},null,8,Ja)]),_:1}),P("div",Za,"🖖 欢迎回来，"+oe(a.name),1)]),_:1})]),_:1}),c(ge,{style:{"margin-top":"10px"}},{default:C(()=>[c(ve,null,{default:C(()=>[c(ft,{"expand-separator":"",icon:"chat",label:"Chatrooms  ",caption:"点击展开聊天室"},{default:C(()=>[c(Ee,{separator:"",bordened:""},{default:C(()=>[c(Xe),(M(!0),X(pe,null,be(a.chatrooms,l=>(M(),ne(ee,{key:l.id,clickable:"",onClick:v=>n.switchChatRoom(l.id)},{default:C(()=>[c(Le,{class:fa(l.id===a.current_chatroom_id?"text-primary":"")},{default:C(()=>[Z(oe(l.name),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),c(ge,{style:{"margin-top":"10px"}},{default:C(()=>[c(ve,null,{default:C(()=>[c(B,{flat:"",class:"full-width no-border",onClick:t[2]||(t[2]=l=>a.newChatroomDialogVisible=!0)},{default:C(()=>t[20]||(t[20]=[Z("💬 新建聊天室")])),_:1}),c(B,{flat:"",class:"full-width no-border",onClick:n.gotoAccountInfo},{default:C(()=>t[21]||(t[21]=[Z("👋 个人资料")])),_:1},8,["onClick"]),c(B,{flat:"",class:"full-width no-border",onClick:n.gotoLogin},{default:C(()=>t[22]||(t[22]=[Z("👉 登录")])),_:1},8,["onClick"]),c(B,{flat:"",class:"full-width no-border",onClick:n.goToServerModerator},{default:C(()=>t[23]||(t[23]=[Z("🖊️ 修改聊天室")])),_:1},8,["onClick"]),c(B,{flat:"",class:"full-width no-border",onClick:n.AboutProject},{default:C(()=>t[24]||(t[24]=[Z("📄 项目文档")])),_:1},8,["onClick"]),c(B,{flat:"",class:"full-width no-border",onClick:n.toggleDrawer},{default:C(()=>t[25]||(t[25]=[Z("⬅️ 关闭")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(ke,{modelValue:a.newChatroomDialogVisible,"onUpdate:modelValue":t[6]||(t[6]=l=>a.newChatroomDialogVisible=l),persistent:""},{default:C(()=>[c(ge,{style:{width:"400px"}},{default:C(()=>[c(ve,null,{default:C(()=>t[26]||(t[26]=[P("div",{class:"text-h6"},"💬 新建聊天室",-1)])),_:1}),c(ve,null,{default:C(()=>[c(dt,{modelValue:a.newChatroomName,"onUpdate:modelValue":t[4]||(t[4]=l=>a.newChatroomName=l),label:"Chatroom Name",filled:""},null,8,["modelValue"])]),_:1}),c(ut,{align:"right"},{default:C(()=>[c(B,{flat:"",label:"取消",color:"negative",onClick:t[5]||(t[5]=l=>a.newChatroomDialogVisible=!1)}),c(B,{flat:"",label:"确认",color:"primary",onClick:n.CreateChatroom},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),P("div",en,[P("div",tn,[(M(!0),X(pe,null,be(a.messages,l=>(M(),ne(ka,{key:l.name,sent:l.name===a.name,name:null,"name-html":"",avatar:l.avatar_url?l.avatar_url:"https://img.icons8.com/?size=100&id=YXG86oegZMMh&format=png&color=000000",stamp:l.date,onClick:v=>n.clickMessage(v,l.id,l.name_id,l.name)},{name:C(()=>[(M(!0),X(pe,null,be(a.all_badges,(v,k)=>(M(),X("div",{key:k,style:{display:"flex",gap:"3px","flex-wrap":"wrap"}},[(M(!0),X(pe,null,be(v,(_,s)=>(M(),X("div",{key:_},[l.badges&&l.badges.includes(s)?(M(),ne(ce,{key:0,label:s,color:n.getBadgeColor(s)},null,8,["label","color"])):le("",!0)]))),128))]))),128)),P("span",{innerHTML:`<span>${l.name}</span>`},null,8,nn)]),default:C(()=>[l.isReply==1?(M(),X("div",an,oe(l.reply),1)):le("",!0),l.type==1?(M(),X("span",ln,oe(l.message),1)):le("",!0),l.type==2&&l.message.startsWith("http")?(M(),ne(wa,{key:2,src:l.message,onClick:v=>n.openSourceInNewTab(l.message)},null,8,["src","onClick"])):le("",!0),l.type==3&&l.message.startsWith("http")?(M(),ne(Ca,{key:3,src:l.message,onClick:v=>n.openSourceInNewTab(l.message),autoplay:!1},null,8,["src","onClick"])):le("",!0),l.type==4?(M(),X("a",{key:4,href:l.message.startsWith("http")?l.message:"http://"+l.message,target:"_blank"},"🔗 "+oe(l.message),9,on)):le("",!0),l.type==5?(M(),X("div",rn,[t[28]||(t[28]=P("span",null,"📁 文件",-1)),c(B,{color:"primary",rounded:"",style:{"margin-left":"5px"},"text-color":"white","z-index":"100",onClick:v=>n.downloadFile(l.message)},{default:C(()=>t[27]||(t[27]=[Z(" 直链下载 ")])),_:2},1032,["onClick"])])):le("",!0)]),_:2},1032,["sent","avatar","stamp","onClick"]))),128))])]),c(qt,null,{default:C(()=>[a.siderVisible?(M(),ne(ge,{key:0,style:da({position:"fixed",left:a.expansionX+"px",top:a.expansionY+"px",zIndex:9})},{default:C(()=>[c(Ee,{bordened:"",vertical:""},{default:C(()=>[c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"🔎 查看个人资料",onClick:t[7]||(t[7]=l=>n.gotoUserInfo(this.edit_name_id))})]),_:1}),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"🗣️ 回复TA",onClick:t[8]||(t[8]=l=>n.replyMessage(this.edit_name))})]),_:1}),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"👉 撤回消息",onClick:t[9]||(t[9]=l=>n.recallMessage(this.edit_message_id,this.edit_name_id))})]),_:1}),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"❌ 关闭",onClick:n.closeSider},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["style"])):le("",!0)]),_:1}),P("div",sn,[c(B,{icon:a.InputContainerVisible?a.matChevronRight:a.matChevronLeft,round:"",class:"send-btn q-btn-shadow",onClick:n.hideInputContainer,style:{"background-color":"#ECF0F1","margin-right":"10px"}},null,8,["icon","onClick"]),a.InputContainerVisible?(M(),ne(dt,{key:0,modelValue:a.message,"onUpdate:modelValue":t[11]||(t[11]=l=>a.message=l),label:a.message_isReply==1?a.message_Reply:"消息",class:"bottom-input",onKeyup:ca(n.sendMessage,["enter"]),placeholder:a.message_type==4?"请输入网页链接":"请输入内容"},{default:C(()=>[c(ft,{modelValue:a.expansionVisible,"onUpdate:modelValue":t[10]||(t[10]=l=>a.expansionVisible=l),style:{position:"absolute",bottom:"5px",right:"10px"}},{default:C(()=>[c(Ee,{bordened:"",vertical:""},{default:C(()=>[a.message_isReply==1?(M(),ne(ee,{key:0,style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"❌ 取消回复",onClick:n.cancelReply},null,8,["onClick"])]),_:1})):le("",!0),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"📝 文字",onClick:n.editTypeText},null,8,["onClick"])]),_:1}),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"📷 图片",onClick:n.editTypePhoto},null,8,["onClick"])]),_:1}),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"📹 视频",onClick:n.editTypeVideo},null,8,["onClick"])]),_:1}),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"🔗 链接",onClick:n.editTypeWeb},null,8,["onClick"])]),_:1}),c(ee,{style:{"background-color":"#ECF0F1"}},{default:C(()=>[c(B,{flat:"",label:"📁 文件",onClick:n.editTypeFile},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","label","onKeyup","placeholder"])):le("",!0),c(B,{round:"",icon:"navigation",class:"send-btn q-btn-shadow",onClick:n.sendMessage,style:{"background-color":"#ECF0F1"}},null,8,["onClick"]),a.InputContainerVisible?(M(),ne(B,{key:1,round:"",icon:"add",class:"send-btn q-btn-shadow",onClick:n.editType,style:{"background-color":"#ECF0F1"}},null,8,["onClick"])):le("",!0)]),c(ke,{modelValue:a.uploadFileDialogVisible_1,"onUpdate:modelValue":t[12]||(t[12]=l=>a.uploadFileDialogVisible_1=l),"backdrop-filter":"blur(4px) saturate(150%)"},{default:C(()=>[c(Ye,{url:"https://zhengfu200.serv00.net/api/upload",style:{"max-width":"300px"},accept:"image/*",onUploaded:n.handleUploadSuccess,onUploadError:n.handleUploadError,"field-name":"file",label:"📷 Upload Images"},null,8,["onUploaded","onUploadError"])]),_:1},8,["modelValue"]),c(ke,{modelValue:a.uploadFileDialogVisible_2,"onUpdate:modelValue":t[13]||(t[13]=l=>a.uploadFileDialogVisible_2=l),"backdrop-filter":"blur(4px) saturate(150%)"},{default:C(()=>[c(Ye,{url:"https://zhengfu200.serv00.net/api/upload",style:{"max-width":"300px"},accept:"video/*",onUploaded:n.handleUploadSuccess,onUploadError:n.handleUploadError,"field-name":"file",label:"📹 Upload Videos"},null,8,["onUploaded","onUploadError"])]),_:1},8,["modelValue"]),c(ke,{modelValue:a.uploadFileDialogVisible_3,"onUpdate:modelValue":t[14]||(t[14]=l=>a.uploadFileDialogVisible_3=l),"backdrop-filter":"blur(4px) saturate(150%)"},{default:C(()=>[c(Ye,{url:"https://zhengfu200.serv00.net/api/upload",style:{"max-width":"300px"},onUploaded:n.handleUploadSuccess,onUploadError:n.handleUploadError,"field-name":"file",label:"📁 Upload Files"},null,8,["onUploaded","onUploadError"])]),_:1},8,["modelValue"])]),_:1})}const fn=la(Ha,[["render",un]]);export{fn as default};
